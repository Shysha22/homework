<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>

    <!--Задача 3. Морський бій. Випадковим чином на двовимірному полі розміром 6*6 розташовується 5 кораблів. Користувач стріляє вказуючи координати. Гра продовжується поки не потоплено усі кораблі або у користувача не закінчаться снаряди: -->

    

    <script>

        // описую змінні
      const arrRow = 6,arrCol = 6
      const min = 1
      const max = 6
      let ships = 5
      let ammunition = 5


    //   створбб функцію для створення масиву
       function createTwoBimensionalArr(arrRow,arrCol){

        let arr = []
        for(let i = 0; i < arrRow; i++){
              arrCols = new Array(arrCol).fill(0)
              arr.push(arrCols)
        }

        return arr
       }
       let arrPlayingField = createTwoBimensionalArr(arrRow,arrCol)


    //    функція рандомного числа
       function randomNum(min,max){

        let randomNum =  min + Math.floor(Math.random() * max )

        return randomNum

       }


    //    функція розташування кораблів
       function setPositionShip(arrPlayingField,ships,min,max){

        for(let i = 0; i < ships;){
            let randomRow = randomNum(min,max)
            let randomCol = randomNum(min,max)
            if(arrPlayingField[randomRow - 1][randomCol - 1] === 0){
                arrPlayingField[randomRow - 1][randomCol - 1] = 1
                i++
            }
        }

        return arrPlayingField

       }
       let playingFieldForUser = setPositionShip(arrPlayingField,ships,min,max,)

    //    функція користувач намагається попасти
       function getGame(playingFieldForUser,ammunition,ships){
        let resultGame;

        do {

            let positonRowUser = parseInt(prompt('Введіть позицію рядка'))
            let positonColUser = parseInt(prompt('Введіть позицію колонки'))
                ammunition--
            if(playingFieldForUser[positonRowUser - 1][positonColUser - 1] === 1){
                playingFieldForUser[positonRowUser - 1][positonColUser - 1] = 0
                alert("Ви попали")
                ships--
            }
            else{
                alert(`Нажаль ви не попали,у вас залишилося  ${ammunition} снаряди`)
            }
            } 
            while ( ammunition !== 0);



            if(ships === 0)
                resultGame = alert("Вітаю!Ви перемогли")
            else
                resultGame = alert("Ви програли")

            return resultGame

       }

       let overGame = getGame(playingFieldForUser,ammunition,ships)


        
        document.write(" <button class='btnBack'><a href='../lesson11.html'>До завдань</a></button>")

    </script>
</body>
</html>